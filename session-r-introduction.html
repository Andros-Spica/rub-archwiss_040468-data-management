<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Introduction to R – Data Management and Digital Archaeology</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session-r-programming.html" rel="next">
<link href="./session-git.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<link rel="stylesheet" href="assets/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session-r-introduction.html">Programming in R</a></li><li class="breadcrumb-item"><a href="./session-r-introduction.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Management and Digital Archaeology</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/Andros-Spica/rub-archwiss_040468-data-management/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Data-Management-and-Digital-Archaeology.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Data-Management-and-Digital-Archaeology.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-rdm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data and research data management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Git and GitHub</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Programming in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-r-introduction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-r-programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Best practices in programming</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data Science in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-count-and-seriation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Count data and seriation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-compositional-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Compositional data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-database-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Databases (I)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-database-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Databases (II)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">GIS</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-gis-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">GIS (I)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-gis-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">GIS (II)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preparation" id="toc-preparation" class="nav-link active" data-scroll-target="#preparation"><span class="header-section-number">3.1</span> Preparation</a>
  <ul class="collapse">
  <li><a href="#rstudio-interface-gui" id="toc-rstudio-interface-gui" class="nav-link" data-scroll-target="#rstudio-interface-gui"><span class="header-section-number">3.1.1</span> RStudio interface (GUI)</a></li>
  <li><a href="#global-settings" id="toc-global-settings" class="nav-link" data-scroll-target="#global-settings"><span class="header-section-number">3.1.2</span> Global Settings</a></li>
  <li><a href="#rstudio-projects" id="toc-rstudio-projects" class="nav-link" data-scroll-target="#rstudio-projects"><span class="header-section-number">3.1.3</span> RStudio Projects</a></li>
  <li><a href="#r-scripts-and-rmarkdown-notebooks" id="toc-r-scripts-and-rmarkdown-notebooks" class="nav-link" data-scroll-target="#r-scripts-and-rmarkdown-notebooks"><span class="header-section-number">3.1.4</span> R Scripts and Rmarkdown notebooks</a></li>
  <li><a href="#creating-or-editing-other-files" id="toc-creating-or-editing-other-files" class="nav-link" data-scroll-target="#creating-or-editing-other-files"><span class="header-section-number">3.1.5</span> Creating or editing other files</a></li>
  </ul></li>
  <li><a href="#r-syntax-and-workflow" id="toc-r-syntax-and-workflow" class="nav-link" data-scroll-target="#r-syntax-and-workflow"><span class="header-section-number">3.2</span> R syntax and workflow</a>
  <ul class="collapse">
  <li><a href="#basic-r-syntax-variables-and-data-types" id="toc-basic-r-syntax-variables-and-data-types" class="nav-link" data-scroll-target="#basic-r-syntax-variables-and-data-types"><span class="header-section-number">3.2.1</span> Basic R syntax: variables and data types</a></li>
  <li><a href="#arithmetic-operations-logical-operations-in-r." id="toc-arithmetic-operations-logical-operations-in-r." class="nav-link" data-scroll-target="#arithmetic-operations-logical-operations-in-r."><span class="header-section-number">3.2.2</span> Arithmetic operations, logical operations in R.</a></li>
  <li><a href="#algorithm-structures" id="toc-algorithm-structures" class="nav-link" data-scroll-target="#algorithm-structures"><span class="header-section-number">3.2.3</span> Algorithm structures</a></li>
  <li><a href="#writing-and-executing-r-scripts" id="toc-writing-and-executing-r-scripts" class="nav-link" data-scroll-target="#writing-and-executing-r-scripts"><span class="header-section-number">3.2.4</span> Writing and executing R scripts</a></li>
  <li><a href="#using-packages" id="toc-using-packages" class="nav-link" data-scroll-target="#using-packages"><span class="header-section-number">3.2.5</span> Using packages</a></li>
  </ul></li>
  <li><a href="#basic-data-structures-in-r" id="toc-basic-data-structures-in-r" class="nav-link" data-scroll-target="#basic-data-structures-in-r"><span class="header-section-number">3.3</span> Basic Data Structures in R</a></li>
  <li><a href="#data-manipulation-in-r" id="toc-data-manipulation-in-r" class="nav-link" data-scroll-target="#data-manipulation-in-r"><span class="header-section-number">3.4</span> Data Manipulation in R</a></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization"><span class="header-section-number">3.5</span> Data Visualization</a></li>
  <li><a href="#extrainteractive-visualizations" id="toc-extrainteractive-visualizations" class="nav-link" data-scroll-target="#extrainteractive-visualizations"><span class="header-section-number">3.6</span> (EXTRA)Interactive Visualizations</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Andros-Spica/rub-archwiss_040468-data-management/edit/main/session-r-introduction.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session-r-introduction.html">Programming in R</a></li><li class="breadcrumb-item"><a href="./session-r-introduction.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to R</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-r-introduction" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="preparation" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="preparation"><span class="header-section-number">3.1</span> Preparation</h2>
<p>Before learning more about R, make sure that everything is set up properly and that you understand the basics in RStudio GUI.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
CHECK: R and RStudio installation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To ensure that both R and RStudio have been installed correctly, follow these steps:</p>
<ol type="1">
<li>Launch RStudio by searching for it in your applications menu.<br>
</li>
<li>When it opens, you should see an interface with multiple panels, including the Console in the left or bottom left panel.<br>
</li>
<li>In the RStudio Console, you should see details about the R version currently running, which confirms that both R and RStudio are correctly installed and linked. You can always re-print this information by typing the command <code>version</code>.</li>
</ol>
<p>If any of these steps fail, consider reinstalling R and RStudio, ensuring they are compatible with your operating system.</p>
</div>
</div>
</div>
<section id="rstudio-interface-gui" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="rstudio-interface-gui"><span class="header-section-number">3.1.1</span> RStudio interface (GUI)</h3>
<p>The RStudio interface, or Graphical User Interface (GUI), is designed to help you work efficiently with R. By default, it consists of four main panes or panels, each potentially containing multiple tabs:</p>
<ol type="1">
<li><strong>Console/Terminal/Background Jobs</strong>: This is where you can type and run R commands directly. It displays output from your code and any error messages.<br>
</li>
<li><strong>Environment/History/Connections/Build/Git</strong>: In the top-right, the Environment tab shows all active variables and data loaded into your session, while the History tab keeps a log of previously executed commands.<br>
</li>
<li><strong>Files/Plots/Packages/Help/…</strong>: The bottom-right panel has several tabs for navigating your files, viewing plots and other graphical outputs, managing installed packages, and accessing R documentation.<br>
</li>
<li><strong>Source or Script Editor</strong>: Located in the top-left, here is where you can write, edit, and save R scripts. You can run selected code from this editor directly in the Console. <em>This panel will be absent whenever there are no script files open in RStudio.</em></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://docs.posit.co/ide/user/ide/guide/ui/images/rstudio-panes-labeled.jpeg" class="img-fluid figure-img"></p>
<figcaption>RStudio GUI default structure; from <span class="citation" data-cites="noauthor_rstudio_2024"><span>“<span>RStudio</span> <span>User</span> <span>Guide</span> - <span>RStudio</span> <span>IDE</span> <span>User</span> <span>Guide</span>”</span> (<a href="references.html#ref-noauthor_rstudio_2024" role="doc-biblioref">2024</a>)</span></figcaption>
</figure>
</div>
<p>Many of the various elements of RStudio GUI are self-explanatory or further explained by pop-up texts and windows. Still, beginners and occasional users can be assured that most elements can be ignored.</p>
</section>
<section id="global-settings" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="global-settings"><span class="header-section-number">3.1.2</span> Global Settings</h3>
<p>To customize RStudio, go to Tools &gt; Global Options (or RStudio &gt; Preferences on macOS). Here, you can adjust various settings, including:</p>
<ul>
<li>General: Setting the directory path where R has been installed (normally assigned automatically), your default working directory and specify startup options.<br>
</li>
<li>Code: Configuring code formatting, autocompletion, and syntax highlighting settings.</li>
<li>Appearance: Change the editor theme, font size, and other visual preferences.<br>
</li>
<li>Pane Layout: Changing the default pane structure (not recommended).</li>
</ul>
</section>
<section id="rstudio-projects" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="rstudio-projects"><span class="header-section-number">3.1.3</span> RStudio Projects</h3>
<p>RStudio Projects help organize your work by keeping all related files, scripts, data, and outputs in one place. Each project has its own working directory, which helps to manage dependencies and to maintain reproducibility. Projects are especially useful for keeping different analyses or projects separate from one another.</p>
<p>To create a new project in RStudio, follow these steps:</p>
<ol type="1">
<li>Go to File &gt; New Project.</li>
<li>You’ll see three options:</li>
</ol>
<ul>
<li>New Directory: Create a project from scratch within a new folder. This is useful when starting a new analysis or project.<br>
</li>
<li>Existing Directory: Convert an existing folder into an RStudio project. Ideal for organizing already-existing files and scripts.<br>
</li>
<li>Version Control: Clone a project from GitHub, GitLab, or other version control systems. This option is helpful when working with collaborative projects or version-tracked repositories.<br>
</li>
</ul>
<ol start="3" type="1">
<li>Select the appropriate option based on your needs. For example, if you choose New Directory, you can then select New Project, enter a project name, and specify the location to save it. Alternatively, if you are working with a GitHub repository, you could select Version Control to clone it directly into RStudio, creating a fully synchronized project environment.<br>
</li>
<li>Click Create Project. RStudio will open a new R session within the project’s directory.</li>
</ol>
</section>
<section id="r-scripts-and-rmarkdown-notebooks" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="r-scripts-and-rmarkdown-notebooks"><span class="header-section-number">3.1.4</span> R Scripts and Rmarkdown notebooks</h3>
<p>In RStudio, both R scripts and Rmarkdown notebooks (or rendered notebooks) are used to write and execute R code, but they serve different purposes and have distinct features:</p>
<section id="scripts-.r-files" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="scripts-.r-files">Scripts (.R files)</h4>
<ul>
<li>Plain Text Format: Scripts are simple text files where you can write and save R code. They are best suited for running sequential code and writing reusable functions.<br>
</li>
<li>Execution: You can run code line-by-line or in chunks directly in the Console. Scripts are ideal for production workflows or larger projects where maintaining clear, reproducible code is a priority.<br>
</li>
<li>Comments: You can add comments for documentation, but scripts do not natively support rich formatting like Markdown.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the mean of a numeric vector</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(numbers)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mean_value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>In this script, we define a vector, calculate its mean, and print the result. The focus is on the code itself, without additional formatting or documentation.</p>
</section>
<section id="notebooksrendered-notebooks-.rmd.qmd-files" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="notebooksrendered-notebooks-.rmd.qmd-files">Notebooks/Rendered notebooks (.Rmd/.qmd files)</h4>
<ul>
<li><p>Rich Content: Notebooks allow you to combine code with Markdown for text, making it easy to include formatted text, headings, images, and links alongside your code.</p></li>
<li><p>Interactive Execution: Notebooks support interactive, cell-based execution, similar to <a href="https://jupyter.org/">Jupyter notebooks</a>. Each code cell outputs results directly below it by default, which is useful for exploratory data analysis and iterative workflows.</p></li>
<li><p>Output Options: Notebooks can be rendered into various formats, such as HTML, PDF, or Word, allowing you to create polished, shareable reports directly from your analysis. It is possible to have code being run and rendered with output directly into a HTML file by choosing <code>html_notebook</code>, a type of output that approaches the one of <a href="https://jupyter.org/">Jupyter notebooks</a>.</p></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
## Calculate the Mean of a Vector

In this analysis, we calculate the mean of a simple numeric vector.

```{r}
# Define the numeric vector
numbers &lt;- c(1, 2, 3, 4, 5)

# Calculate the mean
mean_value &lt;- mean(numbers)
mean_value
```

The mean of the vector is `r mean_value`.</code></pre>
</div>
</div>
<p>In this notebook, Markdown is used to add a heading and text explanation, while the code chunk calculates and displays the mean. The output is shown directly below the code, creating an interactive, document-like format.</p>
<p>Scripts are optimal for code-centric work with minimal formatting, while notebooks offer a flexible, document-like interface ideal for combining narrative and code in a single file.</p>
</section>
</section>
<section id="creating-or-editing-other-files" class="level3" data-number="3.1.5">
<h3 data-number="3.1.5" class="anchored" data-anchor-id="creating-or-editing-other-files"><span class="header-section-number">3.1.5</span> Creating or editing other files</h3>
<p>In addition to R scripts (.R) and RMarkdown notebooks (.Rmd), RStudio supports creating and editing various other file types, making it a versatile environment for different types of content and workflows. To create a new file, go to File &gt; New File and select the desired file type.</p>
<p>Some examples of files you can create and edit in RStudio include:</p>
<ul>
<li>Plain Text Files (.txt): Useful for notes, raw data, or configuration files.</li>
<li>HTML Files (.html): For creating and editing web pages, especially useful for generating custom reports.</li>
<li>Python Scripts (.py): RStudio supports Python, allowing you to write and execute Python code within the same environment if Python is installed on your computer.</li>
<li>SQL Files (.sql): You can write and run SQL queries directly in RStudio when working with databases.</li>
</ul>
<p>To create a file with an extension not listed in RStudio, simply create a .txt file, modify its name and add the desired extension. This flexibility allows you to manage all parts of your project, from data processing to documentation, within RStudio.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
See also
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For more information about RStudio, consult:</p>
<ul>
<li><span class="citation" data-cites="noauthor_rstudio_2024"><span>“<span>RStudio</span> <span>User</span> <span>Guide</span> - <span>RStudio</span> <span>IDE</span> <span>User</span> <span>Guide</span>”</span> (<a href="references.html#ref-noauthor_rstudio_2024" role="doc-biblioref">2024</a>)</span></li>
<li><span class="citation" data-cites="noauthor_rstudio_nodate"><span>“<span>RStudio</span> <span>IDE</span> :: <span>Cheatsheet</span>”</span> (<a href="references.html#ref-noauthor_rstudio_nodate" role="doc-biblioref">n.d.</a>)</span></li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="r-syntax-and-workflow" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="r-syntax-and-workflow"><span class="header-section-number">3.2</span> R syntax and workflow</h2>
<section id="basic-r-syntax-variables-and-data-types" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="basic-r-syntax-variables-and-data-types"><span class="header-section-number">3.2.1</span> Basic R syntax: variables and data types</h3>
<p>In R, variables are created by assigning values using the &lt;- operator. R supports various data types, including:</p>
<ul>
<li>Numeric: Numbers, e.g., x &lt;- 10.5</li>
<li>Integer: Whole numbers, declared with L, e.g., y &lt;- 3L</li>
<li>Character: Text, surrounded by quotes, e.g., name &lt;- “Alice”</li>
<li>Logical: Boolean values, TRUE or FALSE, e.g., is_true &lt;- TRUE</li>
<li>Factor: Categorical data, useful for storing distinct categories, e.g., factor_var &lt;- factor(c(“Yes”, “No”, “Yes”))</li>
</ul>
<p>Variables store data for manipulation and analysis, forming the building blocks of R programming.</p>
</section>
<section id="arithmetic-operations-logical-operations-in-r." class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="arithmetic-operations-logical-operations-in-r."><span class="header-section-number">3.2.2</span> Arithmetic operations, logical operations in R.</h3>
<p>R supports a range of arithmetic and logical operations:</p>
<ul>
<li>Arithmetic Operations: Perform basic math on numbers.
<ul>
<li>Addition: <code>5 + 3</code></li>
<li>Subtraction: <code>5 - 3</code></li>
<li>Multiplication: <code>5 * 3</code></li>
<li>Division: <code>5 / 3</code></li>
<li>Exponentiation: <code>5 ^ 3</code></li>
<li>Modulus: <code>5 %% 3</code> (remainder)</li>
</ul></li>
<li>Logical Operations: Compare values, returning TRUE or FALSE.
<ul>
<li>Equal to: <code>5 == 3</code></li>
<li>Not equal to: <code>5 != 3</code></li>
<li>Greater than: <code>5 &gt; 3</code></li>
<li>Less than: <code>5 &lt; 3</code></li>
<li>Logical <strong>AND</strong>: <code>TRUE &amp; FALSE</code></li>
<li>Logical <strong>OR</strong>: <code>TRUE | FALSE</code></li>
</ul></li>
</ul>
</section>
<section id="algorithm-structures" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="algorithm-structures"><span class="header-section-number">3.2.3</span> Algorithm structures</h3>
<p>R provides basic control structures for implementing algorithms:</p>
<ul>
<li><code>if</code> and <code>else</code>: Execute code based on a condition.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is greater than 5"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x is not greater than 5"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x is greater than 5"</code></pre>
</div>
</div>
<ul>
<li><code>while</code> loop: Repeat code while a condition is true.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (count <span class="sc">&lt;=</span> <span class="dv">5</span>) {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(count)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</code></pre>
</div>
</div>
<ul>
<li><code>funtion</code>: Encapsulate code into reusable blocks.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>add_numbers <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(a <span class="sc">+</span> b)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">add_numbers</span>(<span class="dv">3</span>, <span class="dv">5</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
</section>
<section id="writing-and-executing-r-scripts" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="writing-and-executing-r-scripts"><span class="header-section-number">3.2.4</span> Writing and executing R scripts</h3>
<p>To create and run an R script:</p>
<ol type="1">
<li><p>Go to File &gt; New File &gt; R Script in RStudio.</p></li>
<li><p>Write your code in the editor. For example:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple R Script</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>sum <span class="ot">&lt;-</span> x <span class="sc">+</span> y</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Highlight the code and press Ctrl + Enter (Windows) or Cmd + Enter (Mac) to execute it in the Console.</li>
</ol>
</section>
<section id="using-packages" class="level3" data-number="3.2.5">
<h3 data-number="3.2.5" class="anchored" data-anchor-id="using-packages"><span class="header-section-number">3.2.5</span> Using packages</h3>
<p>Packages in R are collections of functions, data, and documentation that extend R’s capabilities. They allow you to perform specialized tasks without having to write code from scratch. To use a package, you need to first install it and then load it into your R session.</p>
<section id="installing-and-loading-packages" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="installing-and-loading-packages">Installing and loading packages</h4>
<p>To install a package, use the install.packages() function. For example, to install the ggplot2 package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Alternatively, you may use the GUI Wizard in Tools &gt; Install Packages…, where an autocomplete feature will help selecting packages exact names.</p>
<p>Once installed, load the package with the <code>library()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now you can access the functions within <code>ggplot2</code> and any other loaded package. You only need to install a package once, but you must load it in each new session.</p>
</section>
<section id="package-collection-tidyverse" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="package-collection-tidyverse">Package collection: <code>tidyverse</code></h4>
<p>The <a href="https://www.tidyverse.org/"><code>tidyverse</code></a> is a collection of R packages designed for data science, making data manipulation, visualization, and analysis easier and more intuitive <span class="citation" data-cites="wickham_welcome_2019 noauthor_tidyverse_nodate">(<a href="references.html#ref-wickham_welcome_2019" role="doc-biblioref">Wickham et al. 2019</a>; <a href="references.html#ref-noauthor_tidyverse_nodate" role="doc-biblioref"><span>“Tidyverse”</span> n.d.</a>)</span>. It includes:</p>
<ul>
<li><code>ggplot2</code>: For creating data visualizations using a layered approach.</li>
<li><code>dplyr</code>: For data manipulation, including filtering, summarizing, and arranging data.</li>
<li><code>tidyr</code>: For reshaping and tidying data.</li>
<li><code>readr</code>: For reading data files into R quickly.</li>
<li><code>purrr</code>: For functional programming, allowing you to work with lists and vectors more effectively.</li>
<li><code>tibble</code>: A modern version of data frames with enhanced printing and subsetting.</li>
</ul>
<p>The installation and use of the entire tidyverse works as a single package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The tidyverse packages considerably change the way of working with R. Indeed, tidyverse code is now often used for introducing data science in R, since it is much easier to read and learn for beginners. However, it brings with it dependencies (i.e.&nbsp;other packages) and sometimes hide certain potentials that can only be explored with base R. In this course, we try to keep a balanced perspective by offering a glimpse of more than one R code solutions.</p>
</section>
<section id="package-collection-tesselle" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="package-collection-tesselle">Package collection: <code>tesselle</code></h4>
<p>The <a href="https://www.tesselle.org/"><code>tesselle</code></a> collection is a suite of R packages specifically designed for teaching archaeological data analysis and modelling. These packages provide tools for handling and analysing spatial and temporal patterns in archaeological datasets, making it easier to derive insights from complex data, particularly count data, compositional data and chronological data <span class="citation" data-cites="frerebeau_tesselle_2023 noauthor_tesselle_nodate">(<a href="references.html#ref-frerebeau_tesselle_2023" role="doc-biblioref">Frerebeau 2023</a>; <a href="references.html#ref-noauthor_tesselle_nodate" role="doc-biblioref"><span>“Tesselle: <span>R</span> <span>Packages</span> &amp; <span>Archaeology</span>”</span> n.d.</a>)</span>.</p>
<p>Install the complete suite with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tesselle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will look into more details about this collection in <a href="session-compositional-data.html" class="quarto-xref"><span>Chapter 6</span></a> and <a href="session-count-and-seriation.html" class="quarto-xref"><span>Chapter 5</span></a>.</p>
</section>
</section>
</section>
<section id="basic-data-structures-in-r" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="basic-data-structures-in-r"><span class="header-section-number">3.3</span> Basic Data Structures in R</h2>
<ul>
<li>Vectors, matrices, data frames, lists.<br>
</li>
<li>Basic operations on data structures (indexing, subsetting, adding/removing elements).</li>
</ul>
</section>
<section id="data-manipulation-in-r" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="data-manipulation-in-r"><span class="header-section-number">3.4</span> Data Manipulation in R</h2>
<ul>
<li>Importing data: reading data from CSV files, using canonical datasets (<code>iris</code>, <code>archdata::DartPoints</code>).<br>
</li>
<li>Basic data manipulation using base R (<code>subset</code>, <code>merge</code>, <code>apply</code> functions).<br>
</li>
<li>Introduction to <code>dplyr</code> package for data manipulation (filtering, selecting, mutating data).</li>
</ul>
</section>
<section id="data-visualization" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="data-visualization"><span class="header-section-number">3.5</span> Data Visualization</h2>
<ul>
<li>Introduction to plots: histograms, bar plots, scatter plots.<br>
</li>
<li>Creating plots in R with base R graphics.<br>
</li>
<li>Creating multiple plot figures with <code>layout</code>.<br>
</li>
<li>Creating plots in <code>ggplot2</code>.<br>
</li>
<li>Creating multiple plot figures with <code>gridExtra::grid.arrange</code>.<br>
</li>
<li>Base R graphics and <code>ggplot2</code>: comparative<br>
</li>
<li>Saving plots: open and closing graphic devices in R.</li>
</ul>
</section>
<section id="extrainteractive-visualizations" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="extrainteractive-visualizations"><span class="header-section-number">3.6</span> (EXTRA)Interactive Visualizations</h2>
<ul>
<li>Introduction to creating interactive visualizations.<br>
</li>
<li>Example: Building an interactive plot using <code>plotly</code> and <code>knitr</code>.</li>
</ul>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hands-on Practice
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Create a new project in RStudio, placing it at the root directory of your own repository (cloned local branch).<br>
</li>
<li>Create a Rmarkdown document or Notebook and give it a title, e.g.&nbsp;“Introduction to R: an exercise”.</li>
<li>In this document, create a R code chunk to start working and create new chunks and markdown commentaries at every computation step, as you see fit.</li>
<li>Create a data.frame named “stone_tools_data” directly in R with the following characteristics (based on Carlson 2017, p.&nbsp;26):
<ul>
<li>Set of six stone tools with inventory number<br>
</li>
<li>Recording of dimensions (length, breadth, thickness), material type, and whether the material is local or non-local.<br>
</li>
<li>Data per object:
<ul>
<li>LN15:
<ul>
<li>Length: 18<br>
</li>
<li>Breadth: 9<br>
</li>
<li>Thickness: 3<br>
</li>
<li>Material type: chert<br>
</li>
<li>Material provenance: local<br>
</li>
</ul></li>
<li>LN17:
<ul>
<li>Length: 14<br>
</li>
<li>Breadth: 7<br>
</li>
<li>Thickness: 2<br>
</li>
<li>Material type: chert<br>
</li>
<li>Material provenance: local<br>
</li>
</ul></li>
<li>LN18:
<ul>
<li>Length: 21<br>
</li>
<li>Breadth: 10<br>
</li>
<li>Thickness: 3<br>
</li>
<li>Material type: obsidian<br>
</li>
<li>Material provenance: local<br>
</li>
</ul></li>
<li>LN21:
<ul>
<li>Length: 14<br>
</li>
<li>Breadth: 7<br>
</li>
<li>Thickness: 3<br>
</li>
<li>Material type: chert<br>
</li>
<li>Material provenance: non-local<br>
</li>
</ul></li>
<li>LN23:
<ul>
<li>Length: 17<br>
</li>
<li>Breadth: 8<br>
</li>
<li>Thickness: 3<br>
</li>
<li>Material type: obsidian<br>
</li>
<li>Material provenance: local<br>
</li>
</ul></li>
<li>LN24:
<ul>
<li>Length: 16<br>
</li>
<li>Breadth: 8<br>
</li>
<li>Thickness: 2<br>
</li>
<li>Material type: obsidian<br>
</li>
<li>Material provenance: non-local<br>
</li>
</ul></li>
</ul></li>
</ul></li>
<li>Check that the data and data types are coherent with the specifications. Save it as a CSV file and load it back as a new R object (e.g.&nbsp;“stone_tools_data2”). Compare.<br>
</li>
<li>Create a plot showing the counts of objects made of chert and obsidian. Save it as a PNG file.<br>
</li>
<li>Create a new variable (“type_and_provenance”) that combines type and provenance and create a plot showing the counts in each category. Save it as a PNG file.<br>
</li>
<li>Create a single figure displaying the variable distribution of the three dimensions measured. Save it as both a PNG and a SVG file.<br>
</li>
<li>Create a plot displaying the relationship between length and breadth. Save it as a PNG file.<br>
</li>
<li>Create a plot displaying the relationship between length and breadth, this time marking (point type, colour) objects by their “type_and_provenance”. Save it as both a PNG and a EPS file.<br>
</li>
<li>(EXTRA) Create a figure to help explore the question: Do stone tools of different material and provenance tend to be of different size?<br>
</li>
<li>(EXTRA) Duplicate the Rmarkdown document, repeating the steps using <code>tidyverse</code> functions.</li>
<li>Commit all changes and push to the remote using RStudio.<br>
</li>
<li>Q&amp;A and troubleshooting.</li>
</ul>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-frerebeau_tesselle_2023" class="csl-entry" role="listitem">
Frerebeau, Nicolas. 2023. <em>Tesselle: <span>Easily</span> <span>Install</span> and <span>Load</span> ’Tesselle’ <span>Packages</span></em>. Pessac, France: Université Bordeaux Montaigne. <a href="https://doi.org/10.5281/zenodo.6500491">https://doi.org/10.5281/zenodo.6500491</a>.
</div>
<div id="ref-noauthor_rstudio_nodate" class="csl-entry" role="listitem">
<span>“<span>RStudio</span> <span>IDE</span> :: <span>Cheatsheet</span>.”</span> n.d. Accessed October 14, 2024. <a href="https://rstudio.github.io/cheatsheets/html/rstudio-ide.html?_gl=1*11i4y2y*_ga*MjAyMzI2NjEwMC4xNzIzODI3Mjk2*_ga_2C0WZ1JHG0*MTcyODkxNzc2NS4xMy4xLjE3Mjg5MTkwNTIuMC4wLjA.">https://rstudio.github.io/cheatsheets/html/rstudio-ide.html?_gl=1*11i4y2y*_ga*MjAyMzI2NjEwMC4xNzIzODI3Mjk2*_ga_2C0WZ1JHG0*MTcyODkxNzc2NS4xMy4xLjE3Mjg5MTkwNTIuMC4wLjA.</a>
</div>
<div id="ref-noauthor_rstudio_2024" class="csl-entry" role="listitem">
<span>“<span>RStudio</span> <span>User</span> <span>Guide</span> - <span>RStudio</span> <span>IDE</span> <span>User</span> <span>Guide</span>.”</span> 2024. <em>RStudio User Guide</em>. <a href="https://docs.posit.co/ide/user/">https://docs.posit.co/ide/user/</a>.
</div>
<div id="ref-noauthor_tesselle_nodate" class="csl-entry" role="listitem">
<span>“Tesselle: <span>R</span> <span>Packages</span> &amp; <span>Archaeology</span>.”</span> n.d. <em>Tesselle</em>. Accessed October 14, 2024. <a href="https://www.tesselle.org/">https://www.tesselle.org/</a>.
</div>
<div id="ref-noauthor_tidyverse_nodate" class="csl-entry" role="listitem">
<span>“Tidyverse.”</span> n.d. Accessed October 14, 2024. <a href="https://www.tidyverse.org/">https://www.tidyverse.org/</a>.
</div>
<div id="ref-wickham_welcome_2019" class="csl-entry" role="listitem">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the Tidyverse.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/andros-spica\.github\.io\/rub-archwiss_040468-data-management\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session-git.html" class="pagination-link" aria-label="Git and GitHub">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Git and GitHub</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session-r-programming.html" class="pagination-link" aria-label="Best practices in programming">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Best practices in programming</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Andros-Spica/rub-archwiss_040468-data-management/edit/main/session-r-introduction.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>