<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Databases (I) – Data Management and Digital Archaeology</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./session-database-2.html" rel="next">
<link href="./session-compositional-data.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e848d10fc971b9a5fe7043dc20162b3a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<link rel="stylesheet" href="assets/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session-database-1.html">Databases</a></li><li class="breadcrumb-item"><a href="./session-database-1.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Databases (I)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Management and Digital Archaeology</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/Andros-Spica/rub-archwiss_040468-data-management/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Data-Management-and-Digital-Archaeology.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Data-Management-and-Digital-Archaeology.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-rdm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data and research data management</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Git and GitHub</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Programming in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-r-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-r-programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Best practices in programming</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data Science in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-data-science-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Science Workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-count-and-seriation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Count data and seriation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-compositional-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Compositional data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Databases</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-database-1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Databases (I)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-database-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Databases (II)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">GIS</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-gis-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">GIS (I)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./session-gis-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">GIS (II)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-databases-in-archaeology" id="toc-introduction-to-databases-in-archaeology" class="nav-link active" data-scroll-target="#introduction-to-databases-in-archaeology"><span class="header-section-number">8.1</span> Introduction to Databases in Archaeology</a></li>
  <li><a href="#relational-database-concepts" id="toc-relational-database-concepts" class="nav-link" data-scroll-target="#relational-database-concepts"><span class="header-section-number">8.2</span> Relational Database Concepts</a></li>
  <li><a href="#introduction-to-sql-structured-query-language" id="toc-introduction-to-sql-structured-query-language" class="nav-link" data-scroll-target="#introduction-to-sql-structured-query-language"><span class="header-section-number">8.3</span> Introduction to SQL (Structured Query Language)</a></li>
  <li><a href="#database-tools-for-archaeology" id="toc-database-tools-for-archaeology" class="nav-link" data-scroll-target="#database-tools-for-archaeology"><span class="header-section-number">8.4</span> Database Tools for Archaeology</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/Andros-Spica/rub-archwiss_040468-data-management/edit/main/session-database-1.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./session-database-1.html">Databases</a></li><li class="breadcrumb-item"><a href="./session-database-1.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Databases (I)</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-database-1" class="quarto-section-identifier"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Databases (I)</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction-to-databases-in-archaeology" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="introduction-to-databases-in-archaeology"><span class="header-section-number">8.1</span> Introduction to Databases in Archaeology</h2>
<ul>
<li><p><strong>What is a Database?</strong></p>
<ul>
<li><p>Definition and importance of databases in archaeology.</p>
<ul>
<li><p>A database is an organized collection of data that is stored and accessed electronically. In archaeology, databases are crucial for storing, retrieving, and managing vast amounts of data collected during excavations and research. They help archaeologists efficiently organize and analyze information, ensuring that valuable data is preserved and easily accessible for future studies.</p></li>
<li><p>Importance of Databases in Archaeology:</p>
<ol type="1">
<li><strong><em>Data Organization</em></strong>: Databases allow archaeologists to systematically organize data, making it easier to manage and retrieve information. This is essential for maintaining detailed records of archaeological findings.</li>
<li><strong><em>Data Preservation</em></strong>: Databases ensure that archaeological data is preserved in a digital format, protecting it from physical degradation and loss. This is particularly important for long-term research projects</li>
<li><strong><em>Data Sharing</em></strong>: Databases facilitate data sharing among researchers, enabling collaboration and the exchange of information. This enhances the overall quality of archaeological research.</li>
<li><strong><em>Data Analysis</em></strong>: Databases support complex data analysis, allowing archaeologists to identify patterns, trends, and relationships within the data. This aids in the interpretation of archaeological findings.</li>
</ol></li>
<li><p>Example: Common Uses of Databases for Managing Archaeological Data:</p>
<ol type="1">
<li><strong><em>Artifacts</em></strong>: Databases can store detailed information about artifacts, including descriptions, photographs, dimensions, materials, and provenance. This allows archaeologists to catalog and track artifacts systematically. For example, an artifact database might include fields for the artifact’s type, material, date of discovery, and associated excavation site.</li>
<li><strong><em>Excavation Records</em></strong>: Databases can manage excavation records, such as site plans, stratigraphic layers, context sheets, and field notes. This helps in documenting the excavation process and maintaining a comprehensive record of findings. For example, an excavation database might include fields for the site name, excavation date, stratigraphic unit, and associated artifacts.</li>
<li><strong><em>Research Data</em></strong>: Databases can store research data, including radiocarbon dates, chemical analyses, and spatial data from Geographic Information Systems (GIS). This facilitates data analysis and interpretation. For example, a research database might include fields for sample ID, analysis type, date, and results.</li>
<li><strong><em>Bibliographic References</em></strong>: Databases can manage bibliographic references and literature reviews, helping archaeologists keep track of relevant publications and sources. For example, a bibliographic database might include fields for the author, title, publication year, and abstract.</li>
</ol></li>
</ul></li>
</ul></li>
<li><p><strong>Types of Databases</strong></p>
<ul>
<li><p><strong>Overview of relational vs.&nbsp;non-relational databases.</strong></p>
<ol type="1">
<li><p><strong><em>Relational Databases</em></strong>: Relational databases use tables to store data and relationships between data. They follow the relational model, where data is organized into tables with rows and columns. Each table represents a specific entity, and relationships between tables are established using keys (primary and foreign keys). Relational databases use SQL (Structured Query Language) for querying and managing data. Examples include MySQL, PostgreSQL, Oracle, and Microsoft SQL Server.</p>
<ul>
<li><em>Advantages</em>:
<ol type="a">
<li>Data Integrity: Relational databases enforce data integrity through constraints and relationships between tables. This ensures that data is consistent and accurate.</li>
<li>Structured Data: Relational databases are well-suited for structured data, such as artifact catalogs and excavation records. Complex Queries: Relational databases support complex queries using SQL, enabling detailed searches and analyses.</li>
<li>Scalability: Relational databases can handle large datasets and support concurrent access by multiple users.</li>
<li>Data Security: Relational databases provide robust security features, including user authentication, access controls, and encryption.</li>
</ol></li>
</ul></li>
<li><p><strong><em>Non-Relational Databases</em></strong>: Non-relational databases, also known as NoSQL databases, are designed for unstructured or semi-structured data. They can handle large volumes of diverse data types and are often used for big data and real-time web applications. NoSQL databases include various types, such as document stores (e.g., MongoDB), key-value stores (e.g., Redis), column-family stores (e.g., Cassandra), and graph databases (e.g., Neo4j).</p>
<ul>
<li><em>Advantages</em>:
<ol type="a">
<li>Flexibility: Non-relational databases can store unstructured and semi-structured data, making them suitable for diverse data types.</li>
<li>Scalability: Non-relational databases are designed to scale horizontally, handling large volumes of data across distributed systems.</li>
<li>Performance: Non-relational databases can provide high performance for specific use cases, such as real-time data processing and big data analytics.</li>
<li>Schema-less Design: Non-relational databases do not require a fixed schema, allowing for more flexible data modeling.</li>
</ol></li>
</ul></li>
</ol></li>
<li><p><strong>Example: Advantages of Relational Databases for Structured Archaeological Data:</strong></p>
<ol type="1">
<li><strong><em>Data Integrity</em></strong>: Relational databases enforce data integrity through constraints and relationships between tables. This ensures that data is consistent and accurate, which is essential for maintaining reliable archaeological records. For example, a relational database can enforce referential integrity by ensuring that every artifact record references a valid excavation site.</li>
<li><strong><em>Structured Data</em></strong>: Relational databases are well-suited for structured data, such as artifact catalogs and excavation records. The tabular format allows for easy organization and retrieval of data. For example, an artifact table can have columns for artifact ID, type, material, and date of discovery.</li>
<li><strong><em>Complex Queries</em></strong>: Relational databases support complex queries using SQL, enabling archaeologists to perform detailed searches and analyses. For example, an archaeologist can query the database to find all artifacts made of a specific material from a particular excavation layer or to calculate the average age of artifacts from a specific site.</li>
<li><strong><em>Scalability</em></strong>: Relational databases can handle large datasets and support concurrent access by multiple users. This is important for collaborative archaeological projects where multiple researchers need to access and update the database simultaneously. For example, a relational database can support multiple archaeologists entering data from different excavation sites in real-time.</li>
<li><strong><em>Data Security</em></strong>: Relational databases provide robust security features, including user authentication, access controls, and encryption. This ensures that sensitive archaeological data is protected from unauthorized access. For example, a relational database can restrict access to certain tables or fields based on user roles, ensuring that only authorized personnel can view or modify sensitive data.</li>
</ol></li>
</ul></li>
</ul>
<p>In summary, databases are essential tools in archaeology for managing and analyzing data. Relational databases, in particular, offer significant advantages for handling structured archaeological data, ensuring data integrity, and supporting complex queries. Non-relational databases provide flexibility and scalability for handling diverse and large volumes of data, making them suitable for specific use cases in archaeology.</p>
</section>
<section id="relational-database-concepts" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="relational-database-concepts"><span class="header-section-number">8.2</span> Relational Database Concepts</h2>
<ul>
<li><p><strong>Basic Concepts</strong></p>
<ul>
<li><p>Introduction to Tables, Records, Fields, Primary and Foreign Keys:</p>
<ul>
<li><strong><em>Tables</em></strong>: In a relational database, data is organized into tables. Each table represents a specific entity, such as artifacts, excavation sites, or researchers. Tables consist of rows and columns.</li>
<li><strong><em>Records</em></strong>: A record (or row) in a table represents a single instance of the entity. For example, a record in an artifacts table might represent a single artifact.</li>
<li><strong><em>Fields</em></strong>: A field (or column) in a table represents a specific attribute of the entity. For example, fields in an artifacts table might include artifact ID, type, material, and date of discovery.</li>
<li><strong><em>Primary Keys</em></strong>: A primary key is a unique identifier for each record in a table. It ensures that each record can be uniquely identified. For example, an artifact ID can serve as the primary key in an artifacts table.</li>
<li><strong><em>Foreign Keys</em></strong>: A foreign key is a field in one table that links to the primary key in another table. It establishes a relationship between the two tables. For example, a site ID in an artifacts table can serve as a foreign key linking to the primary key in a sites table.</li>
</ul></li>
<li><p>Example: Organizing Excavation Data in Relational Tables:</p>
<ol type="1">
<li>Site Locations Table:
<ul>
<li>Fields: Site ID (Primary Key), Site Name, Location, Excavation Date</li>
<li>Example Record: (1, “Site A”, “Location A”, “2023-01-01”)</li>
</ul></li>
<li>Stratigraphy Table:
<ul>
<li>Fields: Stratigraphy ID (Primary Key), Site ID (Foreign Key), Layer, Description</li>
<li>Example Record: (1, 1, “Layer 1”, “Topsoil layer”)</li>
</ul></li>
<li>Finds Table:
<ul>
<li>Fields: Find ID (Primary Key), Site ID (Foreign Key), Stratigraphy ID (Foreign Key), Artifact Type, Material, Date of Discovery</li>
<li>Example Record: (1, 1, 1, “Pottery”, “Clay”, “2023-01-02”)</li>
</ul></li>
</ol></li>
</ul>
<p>By organizing excavation data into relational tables, archaeologists can efficiently manage and retrieve information about sites, stratigraphy, and finds.<br>
</p></li>
<li><p><strong>Normalization</strong></p>
<ul>
<li><p>Introduction to Database Normalization: Database normalization is the process of organizing data in a database to avoid redundancy and ensure data integrity. The goal is to structure the data in such a way that each piece of information is stored only once, reducing the risk of inconsistencies and improving data accuracy.</p>
<ul>
<li><p>Normalization Principles:</p>
<ol type="a">
<li>First Normal Form (1NF): Ensures that each field contains only atomic (indivisible) values and that each record is unique.</li>
<li>Second Normal Form (2NF): Ensures that all non-key fields are fully dependent on the primary key.</li>
<li>Third Normal Form (3NF): Ensures that all non-key fields are not only dependent on the primary key but also independent of each other.</li>
</ol></li>
</ul></li>
</ul>
<p><strong>Example: Structuring Artifact Data into Normalized Tables:</strong></p>
<ol type="1">
<li><strong><em>Artifacts Table</em></strong>:
<ul>
<li>Fields: Artifact ID (Primary Key), Artifact Type ID (Foreign Key), Material ID (Foreign Key), Condition ID (Foreign Key), Date of Discovery</li>
<li>Example Record: (1, 1, 1, 1, “2023-01-02”)</li>
</ul></li>
<li><strong><em>Artifact Types Table</em></strong>:
<ul>
<li>Fields: Artifact Type ID (Primary Key), Artifact Type</li>
<li>Example Record: (1, “Pottery”)</li>
</ul></li>
<li><strong><em>Materials Table</em></strong>:
<ul>
<li>Fields: Material ID (Primary Key), Material</li>
<li>Example Record: (1, “Clay”)</li>
</ul></li>
<li><strong><em>Conditions Table</em></strong>:
<ul>
<li>Fields: Condition ID (Primary Key), Condition</li>
<li>Example Record: (1, “Intact”)</li>
</ul></li>
</ol>
<p>By normalizing artifact data into separate tables for artifact types, materials, and conditions, archaeologists can avoid redundancy and ensure data integrity.</p></li>
<li><p><strong>Entity-Relationship (ER) Models</strong><br>
An Entity-Relationship (ER) model is a visual representation of the relationships between different entities in a database. It helps in designing the database structure by illustrating how entities are connected and how data flows between them.</p>
<p><strong>Components of an ER Model:</strong></p>
<ol type="1">
<li><p><strong><em>Entities</em></strong>: Represented by rectangles, entities are objects or concepts that have data stored about them. For example, “Site,” “Stratigraphy,” and “Finds” are entities.</p></li>
<li><p><strong><em>Attributes</em></strong>: Represented by ovals, attributes are properties or characteristics of entities. For example, “Site Name” and “Location” are attributes of the “Site” entity.</p></li>
<li><p><strong><em>Relationships</em></strong>: Represented by diamonds, relationships show how entities are connected. For example, a “Finds” entity might have a relationship with both the “Site” and “Stratigraphy” entities.</p></li>
</ol>
<p><strong>Example: Designing an ER Diagram for an Archaeological Database:</strong></p>
<ol type="1">
<li><strong><em>Entities</em></strong>:
<ul>
<li>Site (Attributes: Site ID, Site Name, Location, Excavation Date)</li>
<li>Stratigraphy (Attributes: Stratigraphy ID, Site ID, Layer, Description)</li>
<li>Finds (Attributes: Find ID, Site ID, Stratigraphy ID, Artifact Type, Material, Date of Discovery)</li>
</ul></li>
<li><strong><em>Relationships</em></strong>:
<ul>
<li>A “Site” can have multiple “Stratigraphy” layers (One-to-Many relationship).</li>
<li>A “Stratigraphy” layer can have multiple “Finds” (One-to-Many relationship).</li>
<li>A “Find” is associated with one “Site” and one “Stratigraphy” layer (Many-to-One relationship).</li>
</ul></li>
</ol>
<p><strong>ER Diagram:</strong></p>
<p>+—————-+ +—————-+ +—————-+<br>
| Site | | Stratigraphy | | Finds |<br>
|—————-| |—————-| |—————-|<br>
| Site ID (PK) |&lt;——–&gt;| Site ID (FK) |&lt;——–&gt;| Site ID (FK) |<br>
| Site Name | | Stratigraphy ID| | Stratigraphy ID|<br>
| Location | | Layer | | Find ID (PK) |<br>
| Excavation Date| | Description | | Artifact Type |<br>
+—————-+ +—————-+ | Material |<br>
| Date of Discovery|<br>
+—————-+</p>
<p>In this ER diagram, the “Site” entity is related to the “Stratigraphy” entity through the “Site ID” field, and the “Stratigraphy” entity is related to the “Finds” entity through the “Stratigraphy ID” field. This visual representation helps in understanding the relationships between different archaeological datasets and designing a well-structured database.</p></li>
</ul>
</section>
<section id="introduction-to-sql-structured-query-language" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="introduction-to-sql-structured-query-language"><span class="header-section-number">8.3</span> Introduction to SQL (Structured Query Language)</h2>
<ul>
<li><p><strong>Basic SQL Commands</strong></p>
<ul>
<li><ul>
<li>Overview of SQL Syntax and Common Commands:</li>
</ul>
<ol type="1">
<li><code>CREATE</code>: Used to create a new table or database. Syntax: “CREATE TABLE table_name (column1 datatype, column2 datatype, …);”</li>
<li><code>INSERT</code>: Used to insert new records into a table. Syntax: “INSERT INTO table_name (column1, column2, …) VALUES (value1, value2, …);”</li>
<li><code>SELECT</code>: Used to retrieve data from a table. Syntax: “SELECT column1, column2, … FROM table_name;”</li>
<li><code>UPDATE</code>: Used to modify existing records in a table. Syntax: “UPDATE table_name SET column1 = value1, column2 = value2, … WHERE condition;”</li>
<li><code>DELETE</code>: Used to delete records from a table. Syntax: “DELETE FROM table_name WHERE condition;”</li>
</ol></li>
<li><p><em>Example: Creating tables for archaeological data and inserting records.</em></p>
<ol type="1">
<li>Creating a Table for Sites:<br>
<code>CREATE TABLE</code> Sites ( SiteID <code>INT</code> <code>PRIMARY KEY</code>, SiteName <code>VARCHAR</code>(<code>100</code>), Location <code>VARCHAR</code>(<code>100</code>), ExcavationDate <code>DATE</code> );</li>
<li>Inserting Records into the Sites Table: <code>INSERT INTO</code> Sites (SiteID, SiteName, Location, ExcavationDate) <code>VALUES</code> (1, ‘Site A’, ‘Location A’, ‘2023-01-01’); .<br>
</li>
</ol></li>
</ul></li>
<li><p><strong>Creating a Database with SQL</strong></p>
<ol type="1">
<li>Create the Database:</li>
</ol>
<p><code>CREATE DATABASE</code> ArchaeologyDB;</p>
<ol start="2" type="1">
<li>Use the Database:</li>
</ol>
<p><code>USE</code> ArchaeologyDB;</p>
<ol start="3" type="1">
<li>Create different Tables:</li>
</ol>
<ol type="a">
<li><p><em>Artifact Table</em></p>
<p><code>CREATE TABLE</code> Artifacts ( ArtifactID <code>INT</code> <code>PRIMARY KEY</code>, ArtifactType <code>VARCHAR</code>(<code>50</code>), Material <code>VARCHAR</code>(<code>50</code>), Context <code>VARCHAR</code>(<code>100</code>) );</p></li>
<li><p><em>Sites Table</em></p>
<p><code>CREATE TABLE</code> Sites ( SiteID <code>INT</code> <code>PRIMARY KEY</code>, SiteName <code>VARCHAR</code>(<code>100</code>), Location <code>VARCHAR</code>(<code>100</code>), ExcavationDate <code>DATE</code> );</p></li>
</ol>
<ol start="4" type="1">
<li>Insert Records:</li>
</ol>
<ol type="a">
<li><p><em>Insert into Artifacts Table:</em> <code>INSERT INTO</code> Artifacts ( ArtifactID, ArtifactType, Material, Context) <code>VALUES</code> (1, ‘Pottery’, ‘Clay’, ‘Layer 1’);</p></li>
<li><p><em>Insert in Sites Table:</em></p>
<p><code>INSERT INTO</code> Sites (SiteID, SiteName, Location, ExcavationDate) <code>VALUES</code> (1, ‘Site A’, ‘Location A’, ‘2023-01-01’);</p></li>
</ol></li>
<li><p><strong>Indexing and Keys</strong></p>
<ul>
<li><p>Explanation of Primary Keys, Foreign Keys, and Indexing for Optimizing Database Performance:</p>
<ol type="1">
<li>Primary Keys: A primary key is a unique identifier for each record in a table. It ensures that each record can be uniquely identified.
<ul>
<li>Example: ArtifactID in the Artifacts table.</li>
</ul></li>
<li>Foreign Keys: A foreign key is a field in one table that links to the primary key in another table. It establishes a relationship between the two tables.
<ul>
<li>Example: SiteID in the Artifacts table linking to SiteID in the Sites table.</li>
</ul></li>
<li>Indexing: Indexes are used to speed up the retrieval of data. They create a data structure that allows for faster searches.
<ul>
<li>Example: Creating an index on the ArtifactType field in the Artifacts table.</li>
</ul></li>
</ol></li>
<li><p><strong>Defining keys to link excavation sites to finds in different tables:</strong></p>
<ol type="1">
<li>Creating Foreign Key Relationship: <code>ALTER TABLE</code> Artifacts <code>ADD</code> SiteID <code>INT</code>m <code>ADD CONSTRAINT</code> FK_Site, <code>FOREIGN</code> Key (SiteID) <code>REFERENCES</code> Sites(SiteID);</li>
<li>Creating an Index: <code>CREATE</code> Index idx_ArtifactType <code>ON</code> Artifacts (ArtifactType);</li>
</ol></li>
</ul></li>
<li><p><strong>Basic Querying with SQL</strong></p>
<p><strong>Writing Basic Queries to Retrieve Data from a Database:</strong></p>
<ol type="1">
<li><p><strong>Select All Records</strong>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Artifacts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Select Specific Columns</strong>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ArtifactID, ArtifactType, Material <span class="kw">FROM</span> Artifacts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p><strong>Example: Using SELECT Statements to Extract Information About Finds or Excavation Layers:</strong></p>
<ol type="1">
<li><p><strong>Retrieve All Artifacts</strong>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Artifacts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Retrieve Artifacts of a Specific Type</strong>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> ArtifactID, ArtifactType, Material</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Artifacts</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> ArtifactType <span class="op">=</span> <span class="st">'Pottery'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol></li>
<li><p><strong>Filtering and Sorting Data</strong></p>
<p><em>Using <code>WHERE</code>, <code>ORDER BY</code>, and <code>GROUP BY</code> Clauses to Filter and Sort Data:</em></p>
<ol type="1">
<li><p><strong><em>WHERE Clause</em></strong>: Used to filter records based on a condition.</p>
<ul>
<li><p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Artifacts <span class="kw">WHERE</span> Material <span class="op">=</span> <span class="st">'Clay'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><strong><em>ORDER BY Clause</em></strong>: Used to sort the result set by one or more columns.</p>
<ul>
<li><p>Example:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Artifacts <span class="kw">ORDER</span> <span class="kw">BY</span> DateOfDiscovery <span class="kw">DESC</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><p><strong><em>GROUP BY Clause</em></strong>: Used to group records that have the same values in specified columns.</p>
<ul>
<li>Example:</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Material, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">FROM</span> Artifacts <span class="kw">GROUP</span> <span class="kw">BY</span> Material</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p><em>Querying Artifacts by Material Type or Sorting Excavation Records by Date:</em></p>
<ol type="1">
<li><p><strong><em>Filter Artifacts by Material Type</em></strong>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Artifacts</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> Material <span class="op">=</span> <span class="st">'Clay'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong><em>Sort Excavation Records by Date</em></strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> Sites</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> ExcavationDate <span class="kw">DESC</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol></li>
<li><p><strong>Joining Tables</strong></p>
<p><em>Using JOIN Statements to Combine Related Tables:</em></p>
<ol type="1">
<li><strong><em>INNER JOIN</em></strong>: Combines records from two tables where there is a match in both tables.
<ul>
<li><p>Syntax:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">columns</span> <span class="kw">FROM</span> table1 <span class="kw">INNER</span> <span class="kw">JOIN</span> table2 <span class="kw">ON</span> table1.<span class="kw">column</span> <span class="op">=</span> table2.<span class="kw">column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><strong><em>LEFT JOIN</em></strong>: Returns all records from the left table and matched records from the right table.
<ul>
<li><p>Syntax:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">columns</span> <span class="kw">FROM</span> table1 <span class="kw">LEFT</span> <span class="kw">JOIN</span> table2 <span class="kw">ON</span> table1.<span class="kw">column</span> <span class="op">=</span> table2.<span class="kw">column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
<li><strong><em>RIGHT JOIN</em></strong>: Returns all records from the right table and matched records from the left table.
<ul>
<li><p>Syntax:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">columns</span> <span class="kw">FROM</span> table1 <span class="kw">RIGHT</span> <span class="kw">JOIN</span> table2 <span class="kw">ON</span> table1.<span class="kw">column</span> <span class="op">=</span> table2.<span class="kw">column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ol>
<p><strong>Writing Queries to Retrieve Artifacts Based on Their Excavation Context:</strong></p>
<ol type="1">
<li><p><strong><em>Join Artifacts with Sites</em></strong>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Artifacts.ArtifactID, Artifacts.ArtifactType, Sites.SiteName, Sites.Location</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Artifacts</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">INNER</span> <span class="kw">JOIN</span> Sites <span class="kw">ON</span> Artifacts.SiteID <span class="op">=</span> Sites.SiteID</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong><em>Join Artifacts with Stratigraphy</em></strong>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> Artifacts.ArtifactID, Artifacts.ArtifactType, Stratigraphy.<span class="kw">Layer</span>, Stratigraphy.Description</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Artifacts</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">INNER</span> <span class="kw">JOIN</span> Stratigraphy <span class="kw">ON</span> Artifacts.StratigraphyID <span class="op">=</span> Stratigraphy.StratigraphyID</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol></li>
</ul>
</section>
<section id="database-tools-for-archaeology" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="database-tools-for-archaeology"><span class="header-section-number">8.4</span> Database Tools for Archaeology</h2>
<ul>
<li><strong>Accessing Databases from R</strong>
<ul>
<li>Introduction to R packages (<code>DBI</code>, <code>RSQLite</code>, <code>RPostgres</code>) for interacting with databases.<br>
</li>
<li>Example: Connecting to an SQLite or PostgreSQL database from R for archaeological data analysis.<br>
</li>
</ul></li>
<li><strong>SQLite for small projects</strong>
<ul>
<li>Introduction to SQLite as a lightweight database solution for archaeological projects.<br>
</li>
<li>Example: Creating a simple SQLite database for site data using R (RSQLite, e.g.&nbsp;https://cran.r-project.org/web/packages/RSQLite/vignettes/RSQLite.html) or Python.<br>
</li>
</ul></li>
<li><strong>PostgreSQL for larger projects</strong>
<ul>
<li>Overview of PostgreSQL for larger archaeological datasets.<br>
</li>
<li>Example: Setting up a PostgreSQL database in R for managing excavation records.<br>
</li>
</ul></li>
<li><strong>Querying Databases in R</strong>
<ul>
<li>Writing SQL queries in R and retrieving data for further analysis.<br>
</li>
<li>Example: Querying an excavation database from R and visualizing the results with <code>ggplot2</code>.<br>
</li>
</ul></li>
<li><strong>Data Wrangling and Cleaning</strong>
<ul>
<li>Using R to clean and manipulate database data for analysis.<br>
</li>
<li>Example: Using <code>dplyr</code> in R to filter and transform queried data.</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hands-on Practice
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Building a Small Archaeological Database</strong>
<ul>
<li>Step-by-step walkthrough of creating a database schema for a hypothetical excavation project (using RSQLite).<br>
</li>
<li>Example: Creating tables for stratigraphy, finds, and context.<br>
</li>
</ul></li>
<li><strong>Inserting and Managing Data</strong>
<ul>
<li>Practical examples of adding and managing archaeological data.<br>
</li>
<li>Example: Inserting excavation records into the database using SQL.<br>
</li>
</ul></li>
<li><strong>Q&amp;A and Troubleshooting</strong>
<ul>
<li>Addressing challenges in database design and SQL queries.</li>
</ul></li>
</ul>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/andros-spica\.github\.io\/rub-archwiss_040468-data-management\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./session-compositional-data.html" class="pagination-link" aria-label="Compositional data">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Compositional data</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./session-database-2.html" class="pagination-link" aria-label="Databases (II)">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Databases (II)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/Andros-Spica/rub-archwiss_040468-data-management/edit/main/session-database-1.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>